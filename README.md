# VortexTesting
Post-Silicon validation of VortexGPU

# Usage

Download this repository
```sh
  git clone --depth=1 --recursive https://github.com/VictorHerbert/VortexTesting.git
```

And to generate the fault report

```sh
  make fault_simulation
```
# Directory structure

- `Makefile`: Automation script to compile, simulate, and generate required files.

## RTL
- `testbench.sv`: SystemVerilog testbench that sets up and runs simulations for the RTL design; It mainly uses random stimuli.
- `strobe.sv`: Module responsible for signal monitoring and capturing waveform data.
- `vortex.sv`: Main RTL implementation of the vortex design.
- `generated_vortex.sv`: Needs to be generated by `make`; contains an automatically generated version of `vortex.sv` based on specific configurations.

## Scripts
- `faults.sff`: Fault list file used for fault injection and analysis.
- `fsim_evcd.fmsh`: Script for running fault simulation using EVCD (Extended Value Change Dump) format.
- `modelsim.tcl`: TCL script for automating ModelSim simulations, including compilation, wave setup, and execution.


## Vortex

Submodule including the [Vortex GPGPU](https://github.com/vortexgpgpu/vortex)

# Procedural Top level

The `vortex.sv` file was generated with some manual tweaks on `generated_vortex.sv`. This last file can be generated and used in the test by calling

```sh
  make fault_simulation USE_GENERATED=1 PLATFORM_MEMORY_DATA_WIDTH=64 PLATFORM_MEMORY_ADDR_WIDTH=20
```

This will compile a version of Vortex with the specified configurations. The default values (used by vortex.v) are

- `PLATFORM_MEMORY_DATA_WIDTH=32`
- `DPLATFORM_MEMORY_ADDR_WIDTH=16`

# Challenges and Work done

- CUDA support is only partially implemented, lots of emails were exchanged with Vortex Crew, a [Github Issue #221](https://github.com/vortexgpgpu/vortex/issues/221) was open, and some manual attempts were made, but none achieved success
- Vortex was not made for synthesis, meaning that a lot of the RTL is non-synthetisable, and of modifications needed to be done in order to make vortex.v synthesizable
- A bigger fault coverage can be achieved, however this requires synthesizable implementation of several parts of the repository
